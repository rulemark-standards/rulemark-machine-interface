{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "RuleMark Canonical Record",
  "type": "object",
  "required": [
    "canonical_id",
    "type",
    "version",
    "status",
    "issued_by",
    "effective_date",
    "content",
    "artifacts"
  ],
  "properties": {
    "canonical_id": {
      "type": "string",
      "description": "Immutable canonical identifier"
    },
    "type": {
      "type": "string",
      "enum": ["standard", "precedent"]
    },
    "version": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": ["DRAFT", "FROZEN", "ACTIVE"]
    },
    "issued_by": {
      "type": "string"
    },
    "effective_date": {
      "type": "string",
      "format": "date"
    },
    "content": {
      "type": "object",
      "description": "Human-readable legal content"
    },
    "artifacts": {
      "type": "object",
      "required": ["pdf", "signature"],
      "properties": {
        "pdf": {
          "type": "string",
          "description": "Path or URL to canonical PDF"
        },
        "signature": {
          "type": "string",
          "description": "Path or URL to signature file"
        }
      }
    }
  }
}
